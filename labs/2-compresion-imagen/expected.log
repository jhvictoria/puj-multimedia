Code

image:
[52, 55, 61, 66, 70, 61, 64, 73]
[63, 59, 55, 90, 109, 85, 69, 72]
[62, 59, 68, 113, 144, 104, 66, 73]
[63, 58, 71, 122, 154, 106, 70, 69]
[67, 61, 68, 104, 126, 88, 68, 70]
[79, 65, 60, 70, 77, 68, 58, 75]
[85, 71, 64, 59, 55, 61, 65, 83]
[87, 79, 69, 68, 65, 76, 78, 94]

shift:
[-76, -73, -67, -62, -58, -67, -64, -55]
[-65, -69, -73, -38, -19, -43, -59, -56]
[-66, -69, -60, -15, 16, -24, -62, -55]
[-65, -70, -57, -6, 26, -22, -58, -59]
[-61, -67, -60, -24, -2, -40, -60, -58]
[-49, -63, -68, -58, -51, -60, -70, -53]
[-43, -57, -64, -69, -73, -67, -63, -45]
[-41, -49, -59, -60, -63, -52, -50, -34]

dct:

[-415, -30, -61, 27, 56, -20, -2, 0]
[4, -22, -61, 10, 13, -7, -9, 5]
[-47, 7, 77, -25, -29, 10, 5, -6]
[-49, 12, 34, -15, -10, 6, 2, 2]
[12, -7, -13, -4, -2, 2, -3, 3]
[-8, 3, 2, -6, -2, 1, 4, 2]
[-1, 0, 0, -2, -1, -3, 4, -1]
[0, 0, -1, -4, -1, 0, 1, 2]

quantize:

[-26, -3, -6, 2, 2, -1, 0, 0]
[0, -2, -4, 1, 1, 0, 0, 0]
[-3, 1, 5, -1, -1, 0, 0, 0]
[-4, 1, 2, -1, 0, 0, 0, 0]
[1, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]

zig-zag scan:
[-26, -3, 0, -3, -2, -6, 2, -4, 1, -4, 1, 1, 5, 1, 2, -1, 1, -1, 2, 0, 0, 0, 0, 0, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

remove zeros:
[-26, -3, 0, -3, -2, -6, 2, -4, 1, -4, 1, 1, 5, 1, 2, -1, 1, -1, 2, 0, 0, 0, 0, 0, -1, -1]



Decode

add zeros:
[-26, -3, 0, -3, -2, -6, 2, -4, 1, -4, 1, 1, 5, 1, 2, -1, 1, -1, 2, 0, 0, 0, 0, 0, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

Quantized:

[-26, -3, -6, 2, 2, -1, 0, 0]
[0, -2, -4, 1, 1, 0, 0, 0]
[-3, 1, 5, -1, -1, 0, 0, 0]
[-4, 1, 2, -1, 0, 0, 0, 0]
[1, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]

Dequantized:

[-416, -33, -60, 32, 48, -40, 0, 0]
[0, -24, -56, 19, 26, 0, 0, 0]
[-42, 13, 80, -24, -40, 0, 0, 0]
[-56, 17, 44, -29, 0, 0, 0, 0]
[18, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]
[0, 0, 0, 0, 0, 0, 0, 0]

idct:

[-68, -65, -73, -70, -58, -67, -70, -48]
[-70, -72, -72, -45, -20, -40, -65, -57]
[-68, -76, -66, -15, 22, -12, -58, -61]
[-62, -72, -60, -6, 28, -12, -59, -56]
[-59, -66, -63, -28, -8, -42, -69, -52]
[-60, -60, -67, -60, -50, -68, -75, -50]
[-54, -46, -61, -74, -65, -64, -63, -45]
[-45, -32, -51, -72, -58, -45, -45, -39]

Shift inv - image:

[60, 63, 55, 58, 70, 61, 58, 80]
[58, 56, 56, 83, 108, 88, 63, 71]
[60, 52, 62, 113, 150, 116, 70, 67]
[66, 56, 68, 122, 156, 116, 69, 72]
[69, 62, 65, 100, 120, 86, 59, 76]
[68, 68, 61, 68, 78, 60, 53, 78]
[74, 82, 67, 54, 63, 64, 65, 83]
[83, 96, 77, 56, 70, 83, 83, 89]


is decode ok?: True
